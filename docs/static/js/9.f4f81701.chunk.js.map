{"version":3,"sources":["static/notice.svg","views/Notice.tsx","site/pages/notice/index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","_ref","svgRef","title","props","enableBackground","height","viewBox","width","ref","ForwardRef","forwardRef","Notice","intervalHandler","className","text","isScroll","speed","suffix","useState","translateX","setTranslateX","isCopy","scrollStore","setScrollStore","refNotice","useRef","refItem","noticeClassNames","run","useEffect","setTimeout","itemWidth","current","offsetWidth","NoticeWidth","clearTimeout","concat","getClassName","fill","style","transform","Gap","paddingLeft"],"mappings":"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","file":"static/js/9.f4f81701.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, React.createElement(\"g\", null, React.createElement(\"path\", {\n  d: \"m361.786 444.472h-287.615c-1.435 0-2.602-1.167-2.602-2.602v-40.406c0-1.435 1.167-2.603 2.602-2.603h26.521c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5h-5.796l23.074-167.246c.005-.039.01-.077.015-.115 10.626-86.956 62.221-138.87 138.015-138.87 26.351 0 49.777 6.068 69.791 18.028-6.635 8.222-10.62 18.668-10.62 30.032 0 26.416 21.491 47.906 47.906 47.906 7.142 0 13.918-1.582 20.013-4.397 5.157 14.406 8.838 30.263 10.926 47.303.004.037.01.075.015.113l8.71 63.137c.518 3.755 3.733 6.476 7.42 6.476.341 0 .687-.023 1.034-.071 4.104-.566 6.971-4.352 6.405-8.455l-8.703-63.079c-2.398-19.535-6.782-37.684-13.011-54.073 9.284-8.743 15.097-21.131 15.097-34.86 0-26.416-21.491-47.907-47.907-47.907-9.417 0-18.201 2.743-25.616 7.455-16.558-10.698-35.237-17.614-55.778-20.713v-46.923c.001-9.706-7.895-17.602-17.6-17.602h-16.163c-9.706 0-17.602 7.896-17.602 17.602v46.944c-30.611 4.682-57.35 17.902-78.318 38.927-26.317 26.388-43.224 64.819-48.896 111.146l-23.35 169.242h-5.583c-9.706 0-17.602 7.896-17.602 17.603v40.406c0 9.705 7.896 17.602 17.602 17.602h122.286c3.706 29.57 28.986 52.528 59.544 52.528s55.838-22.958 59.543-52.528h46.243c4.142 0 7.5-3.357 7.5-7.5s-3.358-7.5-7.5-7.5zm34.198-318.783c0 18.145-14.762 32.906-32.907 32.906s-32.906-14.762-32.906-32.906c0-18.146 14.762-32.907 32.906-32.907 18.145 0 32.907 14.762 32.907 32.907zm-150.667-108.087c0-1.435 1.167-2.602 2.602-2.602h16.163c1.435 0 2.602 1.167 2.602 2.602v45.358c-3.515-.208-7.071-.33-10.683-.33-3.604 0-7.164.114-10.683.327v-45.355zm10.683 479.398c-22.273 0-40.809-16.258-44.392-37.528h88.784c-3.583 21.27-22.119 37.528-44.392 37.528z\"\n}), React.createElement(\"path\", {\n  d: \"m437.829 383.861h-5.583l-9.83-71.252c-.566-4.103-4.351-6.968-8.455-6.404-4.104.566-6.971 4.352-6.405 8.455l9.547 69.201h-281.39c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h302.115c1.435 0 2.602 1.168 2.602 2.603v40.406c0 1.435-1.167 2.602-2.602 2.602h-40.936c-4.142 0-7.5 3.357-7.5 7.5s3.358 7.5 7.5 7.5h40.936c9.706 0 17.602-7.896 17.602-17.602v-40.406c.001-9.706-7.895-17.603-17.601-17.603z\"\n})));\n\nvar SvgNotice = function SvgNotice(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    enableBackground: \"new 0 0 512 512\",\n    height: 512,\n    viewBox: \"0 0 512 512\",\n    width: 512,\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgNotice, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/notice.63eabce6.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useRef, useEffect } from 'react'\r\nimport { ReactComponent as NoticeSvg } from '../static/notice.svg'\r\nimport { getClassName } from '../utils/base';\r\n\r\ninterface NoticeProps {\r\n\tclassName?: string,\r\n\ttext: string,\r\n\tisScroll: boolean,\r\n\tspeed: number,\r\n\tsuffix?: React.ReactNode\r\n}\r\n\r\nexport default function Notice({ className = '', text, isScroll = true, speed = 18, suffix }: NoticeProps) {\r\n\r\n\tconst [translateX, setTranslateX] = useState(0);\r\n\tconst [scrollStore, setScrollStore] = useState({width: 0, isCopy: false});\r\n\tconst refNotice = useRef(null);\r\n\tconst refItem = useRef(null);\r\n\r\n\tlet intervalHandler: NodeJS.Timeout;\r\n\tconst gapWidth = 66;\r\n\r\n\tconst noticeClassNames = {\r\n        [className]: !!className,\r\n        [`zui-notice-quiet`]: !isScroll\r\n    }\r\n\r\n\tfunction run() {\r\n\t\tif (scrollStore.width <= -translateX) {\r\n\t\t\tsetTranslateX(0);\r\n\t\t} else {\r\n\t\t\tsetTranslateX(translateX - 1);\r\n\t\t}\r\n\t}\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (scrollStore.isCopy) {\r\n\t\t\tintervalHandler = setTimeout(run, speed);\r\n\t\t}\r\n\t}, [translateX])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isScroll) {\r\n\t\t\tconst itemWidth = (refItem.current as any).offsetWidth;\r\n\t\t\tconst NoticeWidth = (refNotice.current as any).offsetWidth;\r\n\t\t\tsetScrollStore({\r\n\t\t\t\twidth: itemWidth + gapWidth,\r\n\t\t\t\tisCopy: itemWidth > NoticeWidth\r\n\t\t\t});\r\n\t\t\tsetTranslateX(1);\r\n\t\t}\r\n\t\treturn () => {\r\n\t\t\tintervalHandler && clearTimeout(intervalHandler)\r\n\t\t};\r\n\t}, [])\r\n\r\n\treturn <div className={\"zui-notice\".concat(getClassName(noticeClassNames))}>\r\n\t\t<NoticeSvg\r\n\t\t\tclassName=\"zui-notice-icon\"\r\n\t\t\twidth=\"15px\"\r\n\t\t\theight=\"36px\"\r\n\t\t\tfill=\"red\"\r\n\t\t></NoticeSvg>\r\n\t\t<div className=\"zui-notice-box\" ref={refNotice}>\r\n\t\t\t<div style={{ transform: `translateX(${translateX}px)` }}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={refItem}\r\n\t\t\t\t\tclassName=\"zui-notice-item\"\r\n\t\t\t\t>{text}</div>\r\n\t\t\t\t{\r\n\t\t\t\t\tscrollStore.isCopy ? <>\r\n\t\t\t\t\t\t<div className=\"zui-notice-item\" style={{width: `${gapWidth}px`}}></div>\r\n\t\t\t\t\t\t<div className=\"zui-notice-item\">{text}</div>\r\n\t\t\t\t\t</> : null\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t{suffix}\r\n\t</div>\r\n}\r\n","import React from 'react';\r\nimport Notice from '../../../views/Notice';\r\n\r\nimport Gap from '../../layout/Gap';\r\n\r\nexport default () => <Gap>\r\n    <Notice\r\n        text=\"通知栏，通知栏通知栏\"\r\n    ></Notice>\r\n    <Notice\r\n        text=\"通知栏，通知栏通知栏\"\r\n        suffix={<div>去看看</div>}\r\n    ></Notice>\r\n    <Notice\r\n        text=\"通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏。\"\r\n        suffix={<div style={{paddingLeft: '8px'}}>></div>}\r\n    ></Notice>\r\n    <Notice speed=\"6\" text=\"通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏。\"></Notice>\r\n    <Notice\r\n        isScroll={false}\r\n        text=\"通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏，通知栏通知栏。\"\r\n    ></Notice>\r\n</Gap>\r\n"],"sourceRoot":""}